# 8. Функции области видимости

Список функций области видимости

 - `let` 
 - `run` 
 - `with` 
 - `apply` 
 - `also`

_Изучаем ресурсы самостоятельно (список ресурсов внизу)_

## Задание

**Часть I**
- Используя функцию области видимости `let`, напишите код, который проверяет, является ли строка непустой, и если да, то выводит ее длину.
- Используя функции области видимости `let` и `run`, напишите код, который преобразует строку в список слов и выводит количество слов, если строка не пустая.
- Используя функцию области видимости `let`, напишите код, который возвращает квадрат числа, если оно положительное, и `null`, если отрицательное.
- Используя функции области видимости `also` и `let`, напишите код, который добавляет элемент в список только в том случае, если он уникален, и выводит сообщение о добавлении или о том, что элемент уже существует.
- Используя функцию области видимости `with`, напишите код, который вычисляет сумму и произведение элементов списка.


**Часть II**
- Используя функцию области видимости `with`, напишите код, который обрабатывает список чисел, находит максимальное и минимальное значение, вычисляет среднее значение и выводит результат.
- Используя функции области видимости `apply` и `also`, напишите код, который обрабатывает список строк, удаляет из него пустые строки, преобразует оставшиеся строки в верхний регистр и выводит их.
- Используя функции области видимости `apply` и `also`, напишите код, который обрабатывает список строк, удаляет из него строки, содержащие только цифры, преобразует оставшиеся строки в нижний регистр, сортирует их по алфавиту и выводит результат.
- Используя функцию области видимости `apply`, создайте объект класса `Person` и установите ему значения полей `name` и `age`.
- Используя функцию области видимости `apply`, напишите код, который создает объект класса `Car`, устанавливает ему значения полей и выводит информацию о машине.

**Часть III**

Реализуйте бинарное дерево строк на основе ассоциативного массива. Используйте функции области видимости  `let`,  `run`,  `apply`,  `also`  и  `with`  для работы с бинарным деревом.

**Требования:**
1.  **Структура данных:**
- Не используйте пользовательские классы и обобщенное программирование
-  Используйте ассоциативный массив `Map<String, Pair<String?, String?>>`  для представления дерева, где ключ — это значение узла, а значение — пара из левого и правого потомков.
-   Если потомок отсутствует, используйте  `null`.
        
2.  **Функции:**    
-  Реализуйте функции для добавления узла в дерево.
-  Реализуйте функцию для поиска узла в дереве.
-   Реализуйте функцию для вывода дерева в порядке обхода (например, в порядке возрастания).
        
3.  **Использование функций области видимости:**    -   Используйте  `let`  для проверки наличия узла.
-   Используйте  `run`  для выполнения операций над деревом.
-   Используйте  `apply`  для инициализации дерева.
-   Используйте  `also`  для вывода информации о дереве.
-   Используйте  `with`  для работы с деревом в контексте при поиске узла.
 
## Вопросы
1. Функции области видимости (ФОВ)
2. Контекстный объект
3. Лямбда-получатель (`this`)
4. Лямбда-аргумент (`it`)
5. Функции-расширения
6. Отличия ФОВ по обращению к объекту
7. Отличия ФОВ по возвращаемым значениям

## Ресурсы
- [Kotlin. Программирование для профессионалов. 2-е изд. Скин Д., Гринхол Д., Бэйли Э.](https://www.piter.com/collection/yazyki-programmirovaniya/product/kotlin-programmirovanie-dlya-professionalov-2-e-izd) Глава 12
- [Kotlin docs: Scope functions](https://kotlinlang.org/docs/scope-functions.html)
- [Руководство по языку Kotlin: Функции области видимости](https://kotlinlang.ru/docs/scope-functions.html)